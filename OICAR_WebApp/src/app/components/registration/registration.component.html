<div class="contentWidth centerVertically m-auto d-flex flex-column align-items-center rounded p-4 bg-light">
    <h2 class="w-100 text-center border-bottom">Registration</h2>
    <form #f="ngForm" [formGroup]="form" (ngSubmit)="submit()" class="w-100">
        <!-- First name -->
        <div class="form-floating">
            <input 
                id="firstName" 
                name="firstName" 
                formControlName="firstName" 
                type="text" 
                class="form-control"
                [ngClass]="{'border border-danger': formValidationService.fieldInvalid(form, 'firstName')}"
                autofocus>
            <label for="firstName">First name</label>
        </div>
        <div 
            *ngIf="formValidationService.fieldInvalidAndHasError(form, 'firstName', 'required')" 
            class="mt-1 text-danger">
                First name is required.
        </div>
    
        <!-- Last name -->
        <div class="form-floating mt-3">
            <input 
                id="lastName" 
                name="lastName" 
                formControlName="lastName" 
                type="text" 
                class="form-control"
                [ngClass]="{'border border-danger': formValidationService.fieldInvalid(form, 'lastName')}">
            <label for="lastName">Last name</label>
        </div>
        <div 
            *ngIf="formValidationService.fieldInvalidAndHasError(form, 'lastName', 'required')" 
            class="mt-1 text-danger">
                Last name is required.
        </div>
    
        <!-- Email -->
        <div class="form-floating mt-3">
            <input 
                id="email" 
                name="email" 
                formControlName="email" 
                type="email" 
                class="form-control"
                [ngClass]="{'border border-danger': formValidationService.fieldInvalid(form, 'email')}">
            <label for="email">Email</label>
        </div>
        <div 
            *ngIf="formValidationService.fieldInvalidAndHasError(form, 'email', 'required')"
            class="mt-1 text-danger">
                Email is required.
        </div>
        <div 
            *ngIf="formValidationService.fieldInvalidAndHasError(form, 'email', 'email')"
            class="mt-1 text-danger">
                Email format is invalid.
        </div>
    
        <!-- Password -->
        <div class="d-flex flex-row align-items-center justify-content-between mt-3">
            <div class="form-floating w-100">
                <input 
                    id="password" 
                    name="password" 
                    formControlName="password" 
                    [type]="showPassword ? 'text' : 'password'"
                    class="form-control"
                    [ngClass]="{'border border-danger': formValidationService.fieldInvalid(form, 'password')}">
                <label for="password">Password</label>
            </div>
            <button 
                type="button"
                class="btn btn-dark mx-3" 
                [textContent]="this.showPassword ? 'Hide' : 'Show'"
                (click)="toggleShowPassword()">
            </button>
        </div>
        <div 
            *ngIf="formValidationService.fieldInvalidAndHasError(form, 'password', 'required')"
            class="mt-1 text-danger">
                Password is required.
        </div>
    
        <div class="d-flex flex-row align-items-center mt-3">
            <!-- Submit button -->
            <button 
                type="submit"
                class="btn btn-dark" 
                [disabled]="!form.valid">
                    Submit
            </button>
            <!-- Login link -->
            <button routerLink="/login" type="button" class="btn btn-link mx-2">Log in</button>
        </div>
    
        <!-- Info message - unsuccessful registration -->
        <div *ngIf="f.submitted && successfulRegistration != undefined && !successfulRegistration" class="alert alert-danger mt-3" role="alert">
            Something went wrong. Registration unsuccessful. :(
        </div>
    
        <!-- Info message - successful registration -->
        <div *ngIf="f.submitted && successfulRegistration != undefined && successfulRegistration" class="alert alert-success mt-3" role="alert">
            Registration successful. You will be redirected to your profile shortly.
        </div>
    </form>
</div>

